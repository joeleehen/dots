"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{56716:(e,t,s)=>{s.d(t,{G:()=>n});var a=s(79474),i=s(13274);const n=e=>(0,i.jsx)(a.Suspense,{fallback:null,children:(0,a.createElement)((0,a.lazy)((async()=>{const{FeatureActivationSection:e}=await Promise.all([s.e(4151),s.e(3417)]).then(s.bind(s,19688));return{default:e}})),e)})},58447:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>tt,SKELETON_SHELVES_COUNT:()=>et,default:()=>it});var a=s(79474),i=s(97500),n=s.n(i),r=s(9037),o=s(83648),c=s(61115),l=s(27222),d=s(22466),p=s(33783),m=s(86055),u=s(21740),x=s(19224),h=s(82755),g=s(13966),j=s(3030),y=s(67683),v=s(22929),f=s(2428),b=s(76230),S=s(7712),C=s(14137),w=s(66853),D=s(86493),N=s(78268),k=s(80637),_=s(84533),A=s(62230),I=s(10468),M=s(68862),F=s(2423);const R="AaXwi9LLckdsxNwrosnQ",H="yX31EzBkHzNooefkSvT3",E="EjJHF7tjFYigQK8pIVbV",L="Z5xLXZofWXGooKRjW6kd",T="kM546dTx5cxDNH530zm8",P="mnhJCpUiriAb7Ay3HOTz",$="rRldspwHsrgo8DsecR2Q";var U=s(13274);const z=({isMWP:e})=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${L} ${T}`,"aria-hidden":"true",children:[(0,U.jsx)("source",{src:(0,A.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,U.jsx)("source",{src:(0,A.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,U.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${L} ${P}`,"aria-hidden":"true",children:[(0,U.jsx)("source",{src:(0,A.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,U.jsx)("source",{src:(0,A.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),W=({isMWP:e})=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("picture",{children:[(0,U.jsx)("source",{srcSet:(0,A.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,U.jsx)("source",{srcSet:(0,A.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,U.jsx)("img",{className:`${L} ${T}`,src:"",alt:""})]}),(0,U.jsxs)("picture",{children:[(0,U.jsx)("source",{srcSet:(0,A.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,U.jsx)("source",{srcSet:(0,A.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,U.jsx)("img",{className:`${L} ${P}`,src:"",alt:""})]})]}),O=(0,a.forwardRef)((({linkUri:e,loggedIn:t,isMWP:s,isStatic:a=!1,onClick:i},r)=>{const o=(0,M.y)(),c=(0,F.j)();return(0,U.jsx)("div",{className:R,ref:r,children:(0,U.jsxs)("div",{className:(0,D.Ju)("invertedLight",n()(H,{[E]:s})),children:[a||c?(0,U.jsx)(W,{isMWP:s}):(0,U.jsx)(z,{isMWP:s}),(0,U.jsx)(N.Z,{as:"h2",variant:"brio",semanticColor:"textBase",className:$,children:t?d.Ru.get("shared.wrapped-banner.title"):d.Ru.get("shared.wrapped-banner.title-loggedout")}),(0,U.jsx)(N.Z,{as:"p",variant:o===I.E.SMALL||s?"mesto":"ballad",semanticColor:"textBase",children:t?d.Ru.get("shared.wrapped-banner.body"):d.Ru.get("shared.wrapped-banner.body-loggedout")}),(0,U.jsx)(k.$,{colorSet:"invertedDark",iconTrailing:_.H,href:e,target:"_blank",size:o===I.E.SMALL||s?"small":"medium",onClick:i,children:d.Ru.get("shared.wrapped-banner.button")})]})})}));var J=s(82317),V=s(2075);const Y=()=>{const e=(0,C.V)(),t=(0,c.NC)(w.ATM),{openURLWithSessionTransfer:s}=(0,J.L)(),{spec:i,logger:n}=(0,v.r)(S.S,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,a.useMemo)((()=>i.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[i]),o=(0,V.t)(r),l="https://spotify.com/wrapped",d=(0,a.useCallback)((e=>{n.logInteraction(r.hitUiNavigate({destination:l})),s(l),e.preventDefault()}),[n,s,r]);return(0,U.jsx)(O,{linkUri:l,loggedIn:!e,onClick:d,ref:o,isStatic:t})};var Z=s(55737),B=s(98891),X=s(29830),G=s(62530);const K="https://courses.spotify.com",Q="dnyg39bzenKDCjizwMzt",q="wQraCJRwv242wm4StxJc",ee="K7stzlHC447r9oht42X6",te="ZRShtgAZLMUHmCZ3kelw",se="fodeOTunaw7uLX6oRbLw",ae="CVo6IW1mq3srWy9YZrAk",ie="IbWcT9VDY62fMGWKyVRg",ne="Dfqze5PoXWjDFglzjSTo",re="KBC0QaBWPGFHcOPnXlFA",oe=["Amp up your learning to the next level.","The first 2 lessons of each course are on us."],ce=({index:e})=>{const{spec:t,logger:s,UBIFragment:i}=(0,v.r)(X.y,{data:{uri:"spotify:app:learning",position:e,reason:""}}),r=(0,a.useCallback)((()=>{const e=t.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:K});s.logInteraction(e)}),[s,t]);return(0,U.jsx)(i,{spec:t,children:(0,U.jsx)("div",{className:n()(ee),children:(0,U.jsx)("div",{className:Q,tabIndex:0,role:"button",onClick:()=>{r(),window.open(K,"_blank","noopener")},children:(0,U.jsxs)("div",{className:q,children:[(0,U.jsxs)("div",{className:te,children:[(0,U.jsx)("div",{className:ae,children:(0,U.jsx)(B.E,{variant:"titleMedium",semanticColor:"textBase",children:"Courses on Spotify"})}),(0,U.jsx)(B.E,{variant:"bodySmall",className:ie,children:oe[0]}),(0,U.jsx)(B.E,{variant:"bodySmall",className:ie,children:oe[1]})]}),(0,U.jsx)("div",{className:se,children:(0,U.jsx)(k.$,{as:"a",size:"small",href:K,target:"_blank",colorSet:"invertedLight",iconTrailing:G.p,onClick:e=>{r(),e.stopPropagation()},children:(0,U.jsx)(B.E,{variant:"bodySmallBold",children:"Discover Courses"})})}),(0,U.jsx)("div",{className:ne}),(0,U.jsx)("div",{className:re})]})})})})};var le=s(62479),de=s(21425);const pe="zecaxp9A6ET66ZYuMSLr",me="CNmffmOxA0meXLgIZ2P4",ue=({spec:e,index:t,shelfTitle:s,isDjRendered:i})=>{const n=(0,a.useCallback)((e=>e<=3?e:(4!==e||i)&&(5!==e||i)?4===e&&i?3:i?Math.min(3,e-3):3:2),[i]);return(0,U.jsx)(y.r,{spec:e.shelvesFactory(),children:(0,U.jsxs)(de.W,{getSpanColumns:n,className:pe,children:[(0,U.jsx)("div",{className:me,children:(0,U.jsx)(le.U,{title:s})}),(0,U.jsx)(ce,{index:t})]})})},xe=JSON.parse('{"data":{"__typename":"HomeLearningSectionData","title":{"text":"Introducing video courses"}},"sectionItems":{"items":[{"title":"","description":""}],"totalCount":1}}'),he=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var ge=s(2865),je=s(40360),ye=s(32733),ve=s(48511);const fe=({spec:e,section:t,index:s})=>(0,a.useMemo)((()=>t.sectionItems.items.some((e=>(0,ve.v)(e.content)))),[t.sectionItems])?(0,U.jsx)(y.r,{spec:e.shelvesFactory(),children:(0,U.jsx)(ye.p,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(ve.G).filter((e=>!!e))})}):null;var be=s(86441);const Se=({spec:e,section:t,index:s})=>(0,U.jsx)(y.r,{spec:e.shelvesFactory(),children:(0,U.jsx)(be.RecentlyPlayed,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var Ce=s(92570),we=s(56716),De=s(4402),Ne=s(63804),ke=s(17122),_e=s(70431),Ae=s(85206),Ie=s(49040);const Me="_4nkqAJHg6YoDSzloLPlL",Fe="UCCfU0h1tfMZDsSS4v5z",Re="axRfNs6D2nj7YtkGNuAn",He="VA7Mqm6kV6b2lvjr9Y8N",Ee="RjE5xUUpMX1dnGOXUATo",Le=({canvas:e,canvasContainerClass:t})=>{if(!(0,F.j)()&&e?.fileId&&e?.uri)return(0,U.jsx)(Ae.G,{className:He,fileId:e.fileId,playerContainerClass:t,canvasUri:e.uri,playOnlyOnHover:!0});const s=(0,_e.g)(e?.thumbnail?.sources,{desiredSize:300,desiredLabel:"standard"});return(0,U.jsx)(ke._,{className:Re,src:s?.url,loading:"lazy",testid:"card-image",fadeIn:!0,children:(0,U.jsx)(De.e,{size:"xxlarge"})})},Te=({canvas:e,sectionUri:t,discoveryFeedUri:s,uri:a,canvasContainerClass:i,title:n})=>{const{open:r}=(0,Ie.P)();return(0,U.jsx)("div",{className:Me,children:(0,U.jsxs)("div",{className:Fe,tabIndex:0,role:"button",onClick:()=>{r(t,s,a)},children:[(0,U.jsx)(Le,{canvas:e,canvasContainerClass:i}),(0,U.jsx)("div",{className:Ee,children:(0,U.jsx)(Ne.Z,{variant:"ballad",lineClamp:2,title:n,dir:"auto",children:n})})]})})};var Pe=s(30565),$e=s(5167);const Ue=({shelfTitle:e,section:t,spec:s,index:a})=>(0,U.jsx)(Pe.x,{config:(0,$e.s1)($e.yV.WATCH_FEED),children:(0,U.jsx)(y.r,{spec:s.shelvesFactory(),children:(0,U.jsx)(ye.p,{total:t.sectionItems.totalCount,pageId:t.uri,title:e??"",index:a,id:t.uri,children:t.sectionItems.items.map(((e,t)=>"DiscoveryFeedResponseWrapper"===e.content.__typename&&"DiscoveryFeed"===e.content.data.__typename?((e,t,s)=>{if("TrackResponseWrapper"!==e.firstItem?.__typename||"Track"!==e.firstItem.data.__typename)return null;const a=e.firstItem.data;return(0,U.jsx)(Te,{uri:a.uri,sectionUri:"spotify:section:0JQ5DABRtFWApcy61XJEvU",discoveryFeedUri:t,canvas:a.canvas,title:e.title??"",canvasContainerClass:`Home_WatchFeed_Canvas_${s}`},`${a.uri}-${s}`)})(e.content.data,e.uri,t):null))})})});var ze=s(81789),We=s(55218),Oe=s(58356),Je=s(99776);const Ve=({spec:e,greeting:t,section:s,index:a})=>{const i=(0,Oe.b8)(),n=(0,c.NC)(w.BYw,{loadingValue:!1});switch(s.data?.__typename){case"HomeGenericSectionData":return(0,U.jsx)(fe,{spec:e,section:(0,Je.M)(s,s.data),index:a});case"HomeShortsSectionData":return(0,U.jsx)(Ce.$,{spec:e,greeting:t,section:(0,Je.M)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,U.jsx)(Se,{spec:e,section:(0,Je.M)(s,s.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,Je.M)(s,s.data),{data:t,sectionItems:a}=e,n=a.items[0];if(i(s,s.data)&&"PlaylistResponseWrapper"===n.content.__typename&&"Playlist"===n.content.data.__typename){const{data:e}=n.content;return(0,U.jsx)(ze.ed,{uri:We.N6,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeWatchFeedSectionData":{const t=(0,Je.M)(s,s.data);return n?(0,U.jsx)(Ue,{shelfTitle:s.data.title?.text??"",spec:e,index:a,section:t}):null}case"HomeFeatureActivationSectionDataV2":return(0,U.jsx)(we.G,{sectionItems:s.sectionItems.items,uri:s.uri,localStorageKey:s.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,je.k)(s.data),null}};const Ye=({spec:e,greeting:t,container:s})=>{const{spec:i,logger:n}=(0,v.r)(Z.createDesktopHomeFeatureActivationShelfEventFactory,{}),r=(0,c.NC)(w.gtB,{loadingValue:!1}),o=(0,c.NC)(w.RiV,{loadingValue:!1}),l=(0,a.useMemo)((()=>((e,t,s)=>{const a=[];s&&a.push(xe),t&&a.push(he);let i=[];return i=function(e){const t=e.sections.items;return t.length>0&&"HomeShortsSectionData"===t[0].data?.__typename}(e)?[e.sections.items[0],...a,...e.sections.items.slice(1)]:[...a,...e.sections.items],i.map((e=>"HomeLearningSectionData"===e.data?.__typename?{localOverride:!0,item:e}:{localOverride:!1,item:e}))})(s,r,o)),[s,r,o]),d=(0,Oe.b8)();return(0,a.useEffect)((()=>{(0,ge.Ek)()&&n.logImpression(i.impressionElementFactory().impression())}),[i,n]),(0,U.jsx)(U.Fragment,{children:l.map(((s,a)=>{if(s.localOverride){const t=s.item,i=t?.sectionItems.items[0];if(!t||!i)return null;const n=l.find((e=>"HomeYourDJSectionData"===e.item.data?.__typename));let r=!1;if(n){const e=n.item;r=d(e,e.data)}return(0,U.jsx)(ue,{spec:e,index:a,isDjRendered:r,shelfTitle:t.data.title.text},`${a}-${i.title}`)}return(0,U.jsx)(Ve,{spec:e,greeting:t,section:s.item,index:a},`${a}-${s.item.uri}`)}))})};var Ze=s(43192),Be=s(27936),Xe=s(27707),Ge=s(95135),Ke=s(63963);const Qe=()=>(0,c.NC)(w.FAj)===w.z3X.ONHOME?(0,U.jsx)(Ke.g,{children:(0,U.jsx)(Ge.o,{onSearch:!1})}):null;var qe=s(89211);const et=6,tt=6,st=(0,a.memo)((({shelfCount:e,cardCount:t})=>(0,U.jsx)("section",{"data-testid":"home-page",children:(0,U.jsx)("div",{className:qe.A.home,children:(0,U.jsxs)("div",{className:n()(qe.A.content,"contentSpacing"),children:[(0,U.jsx)(m.y,{withTitle:!1}),[...new Array(e).keys()].map(((e,s)=>(0,U.jsx)(Ze.f,{withTitle:!0,cardCount:t},s)))]})})}))),at=({spec:e})=>{(0,x.m)("home");const t=(0,r.d4)(Xe.JJ),s=(0,o.zy)(),a=new URLSearchParams(s.search).get("pCountry"),{subfeedId:i=null}=(0,o.g)(),{data:l,error:p,fetching:m}=(0,f.B8)({timeZone:(0,b.Ff)(),sp_t:(0,h.v8)("sp_t")??"",country:a??t,facet:i,sectionItemsLimit:10},{gcTime:b.gO,staleTime:b.jl}),j=(0,c.NC)(w.Y_Z),y=(0,c.NC)(w.ATM),v=j||y;if(m)return(0,U.jsx)(st,{shelfCount:et,cardCount:tt});if(null!==p)return(0,U.jsx)(u.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")});const S=l?.home;return"HomeResponsePayload"!==S?.__typename?(0,U.jsx)(u.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")}):0===S.sectionContainer.sections.totalCount||0===S.sectionContainer.sections.items.length?((0,g.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,U.jsx)(u.A,{hasError:!0,errorMessage:d.Ru.get("error.generic")})):(0,U.jsx)("section",{"data-testid":"home-page",children:(0,U.jsx)("div",{className:n()(qe.A.home,qe.A.homeHome),children:(0,U.jsxs)("div",{className:n()(qe.A.content,"contentSpacing"),children:[v&&(0,U.jsx)(Y,{}),(0,U.jsx)(Ye,{spec:e,greeting:S.greeting?.text??null,container:S.sectionContainer})]})})})},it=()=>{const{spec:e}=(0,v.r)(l.Y,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,Be.W)({type:"locale",uri:"home"});return(0,U.jsxs)(y.r,{spec:e,children:[(0,U.jsx)(p.Q,{children:(0,j.pr)({i18n:d.Ru,shouldLocalize:t})}),(0,U.jsx)(a.Suspense,{fallback:null,children:(0,U.jsx)(Qe,{})}),(0,U.jsx)(at,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.js.map