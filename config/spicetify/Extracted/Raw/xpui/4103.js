"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4103],{54103:(e,t,i)=>{i.r(t),i.d(t,{SNACKBAR_ID:()=>y,default:()=>S});var a=i(79474),r=i(69207),n=i(86493),o=i(36246),s=i(22466),c=i(60096),u=i(78578),l=i(98891),d=i(80637);const f="dRD7dgAMZVRuTdelaf6B",g="sFr9SHK1H3ZYdz2_jWqY",m="AckhtqapSIpyTPpQGw7y";var h=i(13274);const v="dialog-robot";const p=()=>{const[e,t]=(0,a.useState)(!0);return e?(0,h.jsx)(u.j,{"data-testid":v,id:v,"aria-label":"Dialog robot",dialogTitle:s.Ru.get("user-fraud-verification.dialog-alert.title"),colorSet:"invertedLight",className:f,body:(0,h.jsx)(l.E,{as:"p",children:(i=s.Ru.get("user-fraud-verification.dialog-alert.describe"),r=e=>(0,h.jsx)(c.N_,{to:"/playlist/37i9dQZF1DWUcRrhkfhG22",className:g,children:e},e),i.split(/(\{0\}.*)\{1\}/).map((e=>e.startsWith("{0}")?r(e.split("{0}")[1]):e)))}),footer:(0,h.jsx)(d.$,{className:m,onClick:()=>t(!1),children:s.Ru.get("user-fraud-verification.dialog-alert.ok")})}):null;var i,r};var b=i(70251),R=i(44371),_=i(15893),T=i(82349),I=i(23338),k=i(92980);var x=i(22165),N=i(76760);const y="snackbar-user-fraud-verification",S=({verificationId:e})=>{const t=(0,a.useRef)(Date.now()),[i,c]=(0,a.useState)(!1),[u,l]=(0,a.useState)(!1),[d,f]=(0,a.useState)(!1),g=(0,k.vh)(),m=(()=>{const e=(0,k.vh)(),{mutate:t}=(0,b.n)({mutationFn:e=>{const t=_.n.getInstance();return(0,T.s)(t,e)},onError:(t,i)=>{e.send((0,R.D)({id:i,method:"IN_APP_VERIFICATION_V0",error_message:t instanceof I.O?t.message:null,http_method:"put",http_path:`/verification/${i}`}))}});return t})(),{isTrustedRef:v,isTrustedFn:S}=(0,N.d)(),j=async(i,a)=>{const r=Date.now()-t.current,{type:n}=a;await S(a),g.send((0,o.Y)({id:e,method:"IN_APP_VERIFICATION_V0",action:i,interaction_details:{reaction_time:`${r}`,event_triggered:JSON.stringify({type:n,isTrusted:v.current})}})),e&&m(e)};return u?null:d?(0,h.jsx)(p,{}):i?(0,h.jsx)(r.qb,{"data-testid":y,className:(0,n.Ju)("announcement"),showSnackbar:!0,children:s.Ru.get("user-fraud-verification.snackbar.message")}):(0,h.jsx)(x.T,{"aria-label":s.Ru.get("user-fraud-verification.confirm-dialog.title"),titleText:s.Ru.get("user-fraud-verification.confirm-dialog.title"),descriptionText:s.Ru.get("user-fraud-verification.confirm-dialog.description"),onConfirm:e=>{j("human",e),c(!0)},onClose:e=>{j("robot",e),f(!0)},onOutside:e=>{j("robot",e),l(!0)},confirmText:s.Ru.get("user-fraud-verification.confirm-dialog.confirm"),confirmLabel:s.Ru.get("user-fraud-verification.confirm-dialog.label"),cancelText:s.Ru.get("user-fraud-verification.confirm-dialog.cancel")})}}}]);
//# sourceMappingURL=4103.js.map