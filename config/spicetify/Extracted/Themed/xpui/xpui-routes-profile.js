"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9480],{12015:(e,a,t)=>{t.d(a,{M:()=>c});var i=t(7535),r=t(79103),o=t(35663),s=t(10340),l=t(22933);const n="profile-editImage-imageContainer",u="profile-editImage-editImageButtonContainer";var d=t(13274);const c=function({onClick:e,name:a,images:t,canEdit:c,placeholderType:m,shape:g=l.u.SQUARE,dragUri:p=""}){const[h,f]=(0,r.P)(t),v=(0,o.b)(h,f)===o.g.loaded,{draggable:x,onDragStart:b}=(0,i.P)({itemUris:[p],dragLabelText:a});return(0,d.jsxs)("div",{className:n,"data-testid":`${m}-image`,draggable:x&&!!p,onDragStart:b,children:[(0,d.jsx)(l.b,{loading:"eager",name:a,images:t,placeholderType:m,shape:g}),c&&(0,d.jsx)("div",{className:u,children:(0,d.jsx)(s.a,{overlay:v,onClick:e,rounded:g===l.u.CIRCLE})})]})}},54832:(e,a,t)=>{t.r(a),t.d(a,{default:()=>St});var i=t(79474),r=t(83648),o=t(49326),s=t(61444),l=t(90313),n=t(22466),u=t(65615),d=t(21740),c=t(46116),m=t(40555),g=t(34947),p=t(13274);const h=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,g.Z)(m.SR,[a]),o=t?.profiles;return i?(0,p.jsx)(d.A,{hasError:null!==r,errorMessage:n.Ru.get("error.not_found.title.page")}):(0,p.jsx)(c.$,{className:"contentSpacing",title:n.Ru.get("followers"),total:o?.length,showAll:!0,fullPage:!0,rowGap:l.lT,children:o?.map(((e,a)=>(0,p.jsx)(u.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))})},f=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,g.Z)(m.mH,[a]),o=t?.profiles;return i?(0,p.jsx)(d.A,{hasError:null!==r,errorMessage:n.Ru.get("error.not_found.title.page")}):(0,p.jsx)(c.$,{className:"contentSpacing",title:n.Ru.get("following"),total:o?.length,showAll:!0,fullPage:!0,rowGap:l.lT,children:o?.map(((e,a)=>(0,p.jsx)(u.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))})};var v=t(90970),x=t(97500),b=t.n(x),y=t(9037),k=t(42551),j=t(61115),R=t(41243),I=t(50879),_=t(51684),N=t(20370),w=t(48102),T=t(33783),P=t(12015),A=t(86682),C=t(62914),S=t(98891),E=t(24934),U=t(18891),O=t(80637),M=t(48832),L=t(79103),D=t(35663),F=t(22933);const H="profile-userEditDetails-image",B="valcBm4lLe9qFBcg0sFY",W="tAIzXn8C9KriGwGuBfWg",J="PsrXxenHUFXYM1ub1xWw",G="U_VWfeeLWnDPhUTxCmrQ",$=function({onClickEdit:e,onClickRemove:a,name:t,images:i,canEdit:r}){const[o,s]=(0,L.P)(i),l=(0,D.b)(o,s)===D.g.loaded;return(0,p.jsxs)("div",{className:H,children:[(0,p.jsx)(F.b,{loading:"eager",name:t,images:i,placeholderType:"user",shape:F.u.CIRCLE}),r&&(0,p.jsxs)("div",{className:b()(B,{[J]:l}),children:[(0,p.jsx)("button",{className:W,"aria-haspopup":"true",onClick:e,type:"button",children:(0,p.jsx)(S.E,{variant:"bodyMedium",children:n.Ru.get("user.edit-details.choose-photo")})}),(0,p.jsx)("div",{className:b()(G,"icon"),children:(0,p.jsx)(M.G,{size:"xlarge","aria-hidden":!0})}),(0,p.jsx)("button",{className:W,onClick:a,type:"button",children:(0,p.jsx)(S.E,{variant:"bodyMedium",children:n.Ru.get("user.edit-details.remove-photo")})})]})]})};var V=t(52011),K=t(12588),z=t(59043);const Q={paths:""},Z={encode(e,a=z.Writer.create()){for(const t of e.paths)a.uint32(10).string(t);return a},decode(e,a){const t=e instanceof Uint8Array?new z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...Q};for(r.paths=[];t.pos<i;){const e=t.uint32();if(e>>>3==1)r.paths.push(t.string());else t.skipType(7&e)}return r},fromJSON(e){const a={...Q};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(String(t));return a},fromPartial(e){const a={...Q};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(t);return a},toJSON(e){const a={};return e.paths?a.paths=e.paths.map((e=>e)):a.paths=[],a}};t(14269);var q=t(21364),Y=t(84686).hp;const X={value:0},ee={value:!1},ae={value:""};const te={encode:(e,a=z.Writer.create())=>(a.uint32(8).int32(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...X};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.int32();else t.skipType(7&e)}return r},fromJSON(e){const a={...X};return void 0!==e.value&&null!==e.value?a.value=Number(e.value):a.value=0,a},fromPartial(e){const a={...X};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=0,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},ie={encode:(e,a=z.Writer.create())=>(a.uint32(8).bool(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ee};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.bool();else t.skipType(7&e)}return r},fromJSON(e){const a={...ee};return void 0!==e.value&&null!==e.value?a.value=Boolean(e.value):a.value=!1,a},fromPartial(e){const a={...ee};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=!1,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},re={encode:(e,a=z.Writer.create())=>(a.uint32(10).string(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ae};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.string();else t.skipType(7&e)}return r},fromJSON(e){const a={...ae};return void 0!==e.value&&null!==e.value?a.value=String(e.value):a.value="",a},fromPartial(e){const a={...ae};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value="",a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}};z.util.Long!==q.A&&(z.util.Long=q.A,(0,z.configure)());const oe=globalThis;oe.atob,oe.btoa;const se={maxWidth:0,maxHeight:0,url:""},le={},ne={},ue={encode:(e,a=z.Writer.create())=>(a.uint32(8).int32(e.maxWidth),a.uint32(16).int32(e.maxHeight),a.uint32(26).string(e.url),a),decode(e,a){const t=e instanceof Uint8Array?new z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...se};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.maxWidth=t.int32();break;case 2:r.maxHeight=t.int32();break;case 3:r.url=t.string();break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...se};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=Number(e.maxWidth):a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=Number(e.maxHeight):a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=String(e.url):a.url="",a},fromPartial(e){const a={...se};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=e.maxWidth:a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=e.maxHeight:a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=e.url:a.url="",a},toJSON(e){const a={};return void 0!==e.maxWidth&&(a.maxWidth=e.maxWidth),void 0!==e.maxHeight&&(a.maxHeight=e.maxHeight),void 0!==e.url&&(a.url=e.url),a}},de={encode(e,a=z.Writer.create()){void 0!==e.username&&void 0!==e.username&&re.encode({value:e.username},a.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&re.encode({value:e.name},a.uint32(18).fork()).ldelim();for(const t of e.images)ue.encode(t,a.uint32(26).fork()).ldelim();return void 0!==e.verified&&void 0!==e.verified&&ie.encode({value:e.verified},a.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&ie.encode({value:e.editProfileDisabled},a.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&ie.encode({value:e.reportAbuseDisabled},a.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&ie.encode({value:e.abuseReportedName},a.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&ie.encode({value:e.abuseReportedImage},a.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&ie.encode({value:e.hasSpotifyName},a.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&ie.encode({value:e.hasSpotifyImage},a.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&te.encode({value:e.color},a.uint32(90).fork()).ldelim(),a},decode(e,a){const t=e instanceof Uint8Array?new z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...le};for(r.images=[];t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.username=re.decode(t,t.uint32()).value;break;case 2:r.name=re.decode(t,t.uint32()).value;break;case 3:r.images.push(ue.decode(t,t.uint32()));break;case 4:r.verified=ie.decode(t,t.uint32()).value;break;case 5:r.editProfileDisabled=ie.decode(t,t.uint32()).value;break;case 6:r.reportAbuseDisabled=ie.decode(t,t.uint32()).value;break;case 7:r.abuseReportedName=ie.decode(t,t.uint32()).value;break;case 8:r.abuseReportedImage=ie.decode(t,t.uint32()).value;break;case 9:r.hasSpotifyName=ie.decode(t,t.uint32()).value;break;case 10:r.hasSpotifyImage=ie.decode(t,t.uint32()).value;break;case 11:r.color=te.decode(t,t.uint32()).value;break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...le};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=String(e.username):a.username=void 0,void 0!==e.name&&null!==e.name?a.name=String(e.name):a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(ue.fromJSON(t));return void 0!==e.verified&&null!==e.verified?a.verified=Boolean(e.verified):a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=Boolean(e.editProfileDisabled):a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=Boolean(e.reportAbuseDisabled):a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=Boolean(e.abuseReportedName):a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=Boolean(e.abuseReportedImage):a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=Boolean(e.hasSpotifyName):a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=Boolean(e.hasSpotifyImage):a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=Number(e.color):a.color=void 0,a},fromPartial(e){const a={...le};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=e.username:a.username=void 0,void 0!==e.name&&null!==e.name?a.name=e.name:a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(ue.fromPartial(t));return void 0!==e.verified&&null!==e.verified?a.verified=e.verified:a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=e.editProfileDisabled:a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=e.reportAbuseDisabled:a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=e.abuseReportedName:a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=e.abuseReportedImage:a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=e.hasSpotifyName:a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=e.hasSpotifyImage:a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=e.color:a.color=void 0,a},toJSON(e){const a={};return void 0!==e.username&&(a.username=e.username),void 0!==e.name&&(a.name=e.name),e.images?a.images=e.images.map((e=>e?ue.toJSON(e):void 0)):a.images=[],void 0!==e.verified&&(a.verified=e.verified),void 0!==e.editProfileDisabled&&(a.editProfileDisabled=e.editProfileDisabled),void 0!==e.reportAbuseDisabled&&(a.reportAbuseDisabled=e.reportAbuseDisabled),void 0!==e.abuseReportedName&&(a.abuseReportedName=e.abuseReportedName),void 0!==e.abuseReportedImage&&(a.abuseReportedImage=e.abuseReportedImage),void 0!==e.hasSpotifyName&&(a.hasSpotifyName=e.hasSpotifyName),void 0!==e.hasSpotifyImage&&(a.hasSpotifyImage=e.hasSpotifyImage),void 0!==e.color&&(a.color=e.color),a}},ce={encode:(e,a=z.Writer.create())=>(void 0!==e.mask&&void 0!==e.mask&&Z.encode(e.mask,a.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&de.encode(e.userProfile,a.uint32(18).fork()).ldelim(),a),decode(e,a){const t=e instanceof Uint8Array?new z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ne};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.mask=Z.decode(t,t.uint32());break;case 2:r.userProfile=de.decode(t,t.uint32());break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...ne};return void 0!==e.mask&&null!==e.mask?a.mask=Z.fromJSON(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=de.fromJSON(e.userProfile):a.userProfile=void 0,a},fromPartial(e){const a={...ne};return void 0!==e.mask&&null!==e.mask?a.mask=Z.fromPartial(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=de.fromPartial(e.userProfile):a.userProfile=void 0,a},toJSON(e){const a={};return void 0!==e.mask&&(a.mask=e.mask?Z.toJSON(e.mask):void 0),void 0!==e.userProfile&&(a.userProfile=e.userProfile?de.toJSON(e.userProfile):void 0),a}},me=`${V.I_}/identity`;async function ge(e,a,{name:t,imageUploadToken:i}){void 0!==t&&await async function(e,a,t){const i=ce.encode(ce.fromPartial({mask:{paths:["name"]},userProfile:null!==t?{name:t}:{}}));await e.build().withHost(me).withMethod("POST").withPath(`/v3/user/username/${encodeURIComponent((0,K.v)(a))}`).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send()}(e,a,t),void 0!==i&&(null!==i?await async function(e,a,t){await e.build().withHost(me).withMethod("POST").withPath(`/v3/profile-image/${encodeURIComponent((0,K.v)(a))}/${t}`).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send()}(e,a,i):await async function(e,a){await e.build().withHost(me).withMethod("DELETE").withPath(`/v3/profile-image/${encodeURIComponent((0,K.v)(a))}`).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send()}(e,a))}var pe=t(15893);const he={type:"error",get message(){return n.Ru.get("user.edit-details.error.file-size-exceeded",10)}},fe={type:"error",get message(){return n.Ru.get("user.edit-details.error.too-small",300,300)}},ve={type:"error",get message(){return n.Ru.get("user.edit-details.error.missing-name")}},xe={type:"error",get message(){return n.Ru.get("user.edit-details.error.failed-to-save")}},be={type:"error",get message(){return n.Ru.get("user.edit-details.error.file-upload-failed")}};function ye(e){return{type:"setLoading",loading:e}}function ke(e){return{type:"setMessage",message:e}}function je(e,a){switch(a.type){case"setName":return{...e,name:a.name};case"setMessage":return{...e,message:a.message,loading:!1};case"setLoading":return{...e,loading:a.loading,message:null};case"setImageData":return{...e,imageData:a.data,removeImage:!1};case"setImageToken":return{...e,imageToken:a.token,removeImage:!1};case"removeImage":return{...e,imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0};default:return e}}var Re=t(18121),Ie=t(54398),_e=t(95233),Ne=t(92941);const we="profile-userEditDetails-container",Te="profile-userEditDetails-content",Pe="profile-userEditDetails-header",Ae="profile-userEditDetails-closeButton",Ce="vAeyAmeLkDEDKdL9Hou0",Se="dnmzO6yYKkxUV8jl7O1Z",Ee="profile-userEditDetails-nameInput",Ue="profile-userEditDetails-name",Oe="profile-userEditDetails-label",Me="profile-userEditDetails-labelText",Le="dMhJaxli87_22jb_3d9x",De="profile-userEditDetails-saveButton",Fe="profile-userEditDetails-disclaimer",He=i.memo((function({uri:e,name:a,image:t,onClose:r,shouldOpenImagePicker:o,userCapabilities:s}){const[l,u]=(0,_e.p)(),[d,c]=function({name:e,image:a}){return(0,i.useReducer)(je,{loading:!1,message:null,name:e,image:a})}({name:a,image:t}),m=(0,i.useMemo)((()=>{const e=d.imageData||d.image;return e?[{url:e,width:300,height:300}]:[]}),[d.image,d.imageData]);(0,i.useEffect)((()=>{o&&u()}),[u,o]);const g=(0,i.useCallback)((e=>{e===Ie.i.FILE_TOO_BIG?c(ke(he)):e===Ie.i.IMAGE_TOO_SMALL&&c(ke(fe))}),[c]),h=(0,i.useCallback)((()=>{c({type:"removeImage"})}),[c]),f=(0,i.useCallback)((async a=>{a.preventDefault();if(0!==d.name.trim().length){c(ye(!0));try{const a=d.removeImage?null:d.imageToken;await async function(e,{name:a,imageUploadToken:t}){await ge(pe.n.getInstance(),e,{name:a,imageUploadToken:t})}(e,{name:d.name,imageUploadToken:a}),r({name:d.name,image:d.imageData||d.image})}catch(e){c(ke(xe))}}else c(ke(ve))}),[c,r,d.image,d.imageData,d.imageToken,d.name,d.removeImage,e]);return(0,p.jsx)(Re.A,{isOpen:!0,contentLabel:n.Ru.get("user.edit-details.title"),onRequestClose:()=>r(),children:(0,p.jsxs)("div",{className:we,children:[(0,p.jsxs)("div",{className:Pe,children:[(0,p.jsx)(S.E,{as:"h1",variant:"titleSmall",children:n.Ru.get("user.edit-details.title")}),(0,p.jsx)("button",{className:Ae,onClick:()=>r(),"aria-label":n.Ru.get("close"),children:(0,p.jsx)(E.M,{size:"small"})})]}),d.message&&(0,p.jsx)(Ne.z,{isErrorMessage:"error"===d.message.type,message:d.message.message}),(0,p.jsxs)("form",{className:Te,onSubmit:f,children:[s.edit_image&&(0,p.jsx)(Ie.u,{isOpen:l,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:a,imageDataUrl:t}=e;if(c(ke(null)),c({type:"setImageData",data:t}),a)try{c(ye(!0));const e=await async function(e){const a=await pe.n.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost("https://image-upload.spotify.com/v4").withMethod("POST").withPath("/user-profile").withBody(e).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();if(!a.body)throw new Error("No upload token recieved");return a.body.uploadToken}(a);c({type:"setImageToken",token:e}),c(ye(!1))}catch{c(ke(be))}},onError:g}),(0,p.jsxs)("div",{className:Ce,children:[(0,p.jsx)($,{name:a,images:m,onClickEdit:u,onClickRemove:h,canEdit:s.edit_image}),d.loading&&(0,p.jsx)("div",{className:Se,children:(0,p.jsx)(U.I,{})})]}),(0,p.jsxs)("div",{className:Ue,children:[(0,p.jsx)("label",{htmlFor:"user-edit-name",className:Oe,children:(0,p.jsx)(S.E,{variant:"marginalBold",className:Me,children:n.Ru.get("user.edit-details.name-label")})}),(0,p.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:b()(Ee,Le),onChange:e=>{c(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:n.Ru.get("user.edit-details.name-placeholder"),maxLength:32,value:d.name,disabled:!s.edit_name})]}),(0,p.jsx)("div",{className:De,children:(0,p.jsx)(O.$,{colorSet:"invertedLight",onClick:f,disabled:d.loading,children:n.Ru.get("save")})}),(0,p.jsx)(S.E,{as:"p",variant:"marginalBold",className:Fe,children:n.Ru.get("image-upload.legal-disclaimer")})]})]})})}));var Be=t(14137),We=t(42341),Je=t(49865),Ge=t(38766),$e=t(71148),Ve=t(66268),Ke=t(67683),ze=t(22929),Qe=t(70431),Ze=t(32384),qe=t(91817),Ye=t(2338),Xe=t(56923),ea=t(95048),aa=t(3561),ta=t(56607),ia=t(15777),ra=t(54800),oa=t(82810),sa=t(42091);const la=i.memo((function({openModal:e,spec:a,logger:t,name:r,backgroundColor:o,isCurrentUser:s,uri:l}){const[u,d]=(0,ia.Y)(l),c=(0,aa.W)(),m=!(0,ta.n)(),g=(0,i.useCallback)((()=>{c({targetUri:l,intent:u?"unfollow":"follow",type:"click"});const e=a.actionBarFactory().followButtonFactory();u?(d(!1),t.logInteraction(e.hitUnfollow({itemToBeUnfollowed:l}))):(d(!0),t.logInteraction(e.hitFollow({itemToBeFollowed:l})))}),[u,t,c,d,a,l]),h=(0,i.useCallback)((()=>{const e=a.actionBarFactory().contextMenuButtonFactory().hitUiReveal();t.logInteraction(e)}),[t,a]),f=(0,sa.j)();return(0,p.jsx)(ra.E,{backgroundColor:o,children:(0,p.jsxs)(oa.S,{children:[!s&&(0,p.jsx)(Xe.e,{children:(0,p.jsx)(ea.W,{isFollowing:Boolean(u),onClick:g,disabled:m})}),(0,p.jsx)(Ye.b,{menu:(0,p.jsx)(w.B,{uri:l,onEditProfileCallback:e}),children:(0,p.jsx)(qe.e,{label:n.Ru.get("more.label.context",r),onClick:h,size:f})})]})})}));var na=t(62479),ua=t(9869),da=t(2884),ca=t(7697),ma=t(78776),ga=t(30620),pa=t(40088),ha=t(99049),fa=t(42311),va=t(65903),xa=t(94726),ba=t(36943),ya=t(1879),ka=t(72078),ja=t(50859),Ra=t(85438),Ia=t(56404),_a=t(48521),Na=t(6165),wa=t(12157),Ta=t(63378),Pa=t(98046),Aa=t(31853),Ca=t(12010),Sa=t(23556),Ea=t(32345),Ua=t(40393),Oa=t(30994),Ma=t(13709),La=t(45129),Da=t(75773),Fa=t(25046),Ha=t(1250),Ba=t(61988),Wa=t(97249);const Ja=i.memo((function({uri:e,name:a,duration_ms:t,artists:i,album:r,contextUri:o,isExplicit:s,isMOGEFRestricted:l,isPlayable:u,index:d,imgUrl:c,usePlayContextItem:m}){const{spec:g}=(0,ze.r)(va.i,{data:{position:d,reason:"",uri:e}}),{isActive:h,isPlaying:f,triggerPlay:v,togglePlay:x}=m({uri:e,index:d}),b=(0,ka.T)(e),y=(0,Ia.g)(e,u),{badges:k,hasBadges:j}=(0,ja.b)({downloadAvailability:b,isExplicit:s,isMOGEFRestricted:l}),R=i?.map((e=>e.name)).join(n.Ru.getSeparator())||"";return(0,p.jsx)(ga.pZ,{value:"row",index:d,children:(0,p.jsx)(N.h,{menu:(0,p.jsx)(_a.P,{uri:e,albumUri:r.uri,artists:i,contextUri:o}),children:(0,p.jsxs)(Ba.w,{uri:e,contextUri:o,onTriggerPlay:(e,a)=>{v({loggingParams:a})},isActive:h,index:d,ariaRowIndex:d+1,isPlayable:y,ageRestricted:l,dragMetadata:{name:a,createdBy:R},spec:g,children:[(0,p.jsx)(Ma.y,{ariaColIndex:0,children:(0,p.jsx)(Sa.$,{uri:e,playAriaLabel:n.Ru.get("tracklist.a11y.play",a,R),isPlaying:f,isActive:h,onClick:(e,a)=>{x({loggingParams:a})},spec:g,children:(0,p.jsx)(Ua.a,{children:d+1})})}),(0,p.jsxs)(La.U,{ariaColIndex:1,children:[(0,p.jsx)(Aa.e,{src:c}),(0,p.jsxs)(Ca.l,{children:[(0,p.jsx)(Ha.p,{titleText:a,children:a}),j&&(0,p.jsxs)(Ta.P,{children:[k.download&&(0,p.jsx)(xa._,{}),k.explicit&&(0,p.jsx)(ba.g,{}),k.nineteen&&(0,p.jsx)(ya.q,{className:Wa.A.nineteen,size:16})]}),(0,p.jsx)(Fa.p,{children:(0,p.jsx)(wa.l,{artists:i,spec:g})})]})]}),(0,p.jsx)(Da.o,{ariaColIndex:2,children:(0,p.jsx)(Na.g,{uri:r.uri,name:r.name,creatorUri:i?.[0]?.uri,spec:g,children:r.name})}),(0,p.jsxs)(Oa.l,{ariaColIndex:3,children:[(0,p.jsx)(Ra.d,{uri:e,spec:g}),(0,p.jsx)(Pa.P,{duration:t}),(0,p.jsx)(Ea.Y,{menu:(0,p.jsx)(_a.P,{uri:e,albumUri:r.uri,artists:i,contextUri:o}),label:n.Ru.get("more.label.track",a,R),spec:g})]})]})})})}),((e,a)=>e.uri===a.uri));var Ga=t(52198);const $a=i.memo((function({tracks:e,hasHeaderRow:a=!1,nrTracksVisible:t,uri:r}){const o=(0,K.v)(r),l=(0,s.du)(o,"tracks").toURI(),u=(0,i.useMemo)((()=>t?e.slice(0,t):e),[t,e]),{usePlayContextItem:d}=(0,pa.P)({uri:l,pages:[{items:e.map((e=>({type:fa.c.TRACK,uri:e.uri,uid:null,provider:null})))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}),c=(0,i.useCallback)(((e,a)=>{const t=(0,Qe.g)(e?.albumOfTrack?.coverArt?.sources,{desiredSize:40});return(0,p.jsx)(Ja,{index:a,uri:(0,ma.a)(e),duration_ms:e.duration.totalMilliseconds,name:e.name,artists:e.artists.items.map((({uri:e,profile:{name:a}})=>({uri:e,name:a}))),album:e.albumOfTrack,isPlayable:!0,isExplicit:e.contentRating?.label===ha.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===ha.x7.NineteenPlus,imgUrl:t?.url||"",contextUri:l,usePlayContextItem:d},a+e.uri)}),[l,d]),m=(0,i.useMemo)((()=>[da.$.INDEX,da.$.TITLE_AND_ARTIST,da.$.ALBUM,da.$.DURATION]),[]),g=(0,i.useCallback)((e=>({uri:e.uri})),[]),h=(0,ca.A)()?0:void 0;return(0,p.jsx)(ga.pZ,{value:"user-top-tracks-tracklist",children:(0,p.jsx)(Ga.S4,{ariaLabel:n.Ru.get("top_tracks_this_month"),renderRow:c,nrTracks:u.length,tracks:u,resolveItem:g,headerTop:h,hasHeaderRow:a,columns:m,columnPersistenceKey:"user-top-tracks-tracklist"})})}),((e,a)=>e.tracks===a.tracks)),Va=i.memo((function({tracks:e,title:a,tagline:t,seeAllUri:r,className:o,uri:s,spec:l}){const n=(0,ua.s)(),u=(0,i.useCallback)((()=>{const e=l.titleLinkFactory().hitUiNavigate({destination:r});n.logInteraction(e)}),[n,r,l]),d=(0,i.useCallback)((()=>{const e=l.titleLinkFactory().hitUiNavigate({destination:r});n.logInteraction(e)}),[n,r,l]);if(!e||0===e.totalCount||0===e.items.length)return null;const c=e.totalCount>4;return(0,p.jsxs)("section",{className:o,children:[(0,p.jsx)(na.U,{title:a,tagline:t,seeAllUri:r,hasMoreElements:c,onClickTitle:u,onClickSeeAll:d}),(0,p.jsx)(Ke.r,{spec:l,children:(0,p.jsx)($a,{tracks:e.items,uri:s,nrTracksVisible:4})})]})}),((e,a)=>e.tracks===a.tracks));function Ka(e,a){switch(a.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var za=t(98954),Qa=t(76390),Za=t(98475),qa=t(30201),Ya=t(77394),Xa=t(80236),et=t(52611),at=t(32733),tt=t(66840),it=t(50670),rt=t(66853),ot=t(57108),st=t(2255);const lt=new ot.l("userTopContent","query","feb6d55177e2cbce2ac59214f9493f1ef2e4368eec01b3d4c3468fa1b97336e2",null);function nt(e){return"Artist"===e.__typename}function ut(e){if("ArtistPageV2"!==e?.topArtists?.__typename)return null;const a=e.topArtists.items.map((e=>e.data)).filter(nt);return 0===a.length?null:{totalCount:e.topArtists.totalCount,items:a}}function dt(e){return"Track"===e.__typename}function ct(e){if("TrackPageV2"!==e?.topTracks?.__typename)return null;const a=e.topTracks.items.map((e=>e.data)).filter(dt).filter((e=>null!==e.albumOfTrack));return 0===a.length?null:{totalCount:e.topTracks.totalCount,items:a}}const mt=ha.xE.Affinity,gt=ha.Nm.ShortTerm;function pt({includeTopArtists:e,includeTopTracks:a,topArtistsLimit:t,topTracksLimit:i}){const{data:r,loading:o,error:s}=(l={includeTopArtists:e,topArtistsInput:{offset:0,limit:t,sortBy:mt,timeRange:gt},includeTopTracks:a,topTracksInput:{offset:0,limit:i,sortBy:mt,timeRange:gt}},n={enabled:e||a,gcTime:18e5,staleTime:3e5},(0,st.I)(lt,l,n));var l,n;return null!==s?{topTracks:null,topArtists:null,loading:o,error:new Error("Failed loading user top content!")}:{topTracks:ct(r?.me?.profile??null),topArtists:ut(r?.me?.profile??null),loading:o,error:null}}const ht="profile-userOverview-container",ft="profile-userOverview-section",vt="profile-userOverview-topTrackSubPage",xt="profile-userOverview-title",bt="profile-userOverview-header",yt=18e5,kt=3e5,jt=(0,k.Mz)(Je.mB,(e=>e?.images||[])),Rt=({uri:e,isCurrentUser:a})=>{const t=(0,y.d4)(Je.mB)?.uri,r=(0,y.d4)(Je.Mn),o=(0,y.d4)(jt),l=(0,y.wA)(),c=(0,v.jE)(),h=(0,j.NC)(rt.DGB,{loadingValue:!0}),f=(0,i.useMemo)((()=>(0,Qe.g)(o)),[o]),[{isModalOpen:x,modalVariant:k,shouldOpenImagePicker:S},E]=function(){const[e,a]=(0,i.useReducer)(Ka,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1});return[e,a]}(),{data:U,loading:O,queryKey:M}=(0,g.Z)(m.E$,[{uri:e,playlists:10,artists:10,episodes:10}],{gcTime:yt,staleTime:kt}),L=(0,Be.V)();(0,it.N)(tt.mc.OPERATION_COMPLETE,(()=>{c.invalidateQueries({queryKey:M})})),(0,Ve.l)($e.UV.OPERATION_COMPLETE,(()=>{c.invalidateQueries({queryKey:M})}));const D=U?.public_playlists,H=U?.is_verified,B=U?.recently_played_artists,W=a?f?.url||"":U?.image_url||"",J=(0,K.v)(e),G=(a?r:U?.name)||"",$=(0,We.H)(U?.image_url||null),{spec:V,logger:z}=(0,ze.r)(R._,{data:{uri:e}}),Q=(0,i.useMemo)((()=>V.sectionTopTracksFactory()),[V]),Z=!L&&(!1!==U?.show_follows||a),q=a&&h,{data:Y,loading:X}=(0,g.Z)(m.mH,[e],{enabled:Z,gcTime:yt,staleTime:kt}),ee=Y?.profiles,{data:ae,loading:te}=(0,g.Z)(m.SR,[e],{enabled:Z,gcTime:yt,staleTime:kt}),ie=ae?.profiles,re=ee?.some((e=>e.uri===t)),{topArtists:oe,topTracks:se,loading:le}=pt({includeTopArtists:q,includeTopTracks:q,topArtistsLimit:10,topTracksLimit:4}),ne=(0,i.useCallback)((e=>{E({type:"CLOSE_MODAL"}),e&&(l((0,Ge.IE)(e.name)),l((0,Ge.ZQ)(e.image?[{url:e.image,height:null,width:null}]:[])))}),[E,l]),ue=(0,i.useCallback)((()=>{E({type:"OPEN_MODAL"});const e=V.headerFactory().usernameFactory().hitUiReveal();z.logInteraction(e)}),[z,E,V]),de=(0,i.useCallback)((()=>{E({type:"OPEN_MODAL_WITH_IMAGEPICKER"});const e=V.headerFactory().profileImageFactory().hitUiReveal();z.logInteraction(e)}),[z,E,V]),ce=(0,i.useMemo)((()=>[{url:W}]),[W]),me=(0,i.useCallback)((()=>{const e=V.headerFactory().usernameFactory().hitUiReveal();z.logInteraction(e)}),[z,V]),ge=(0,i.useCallback)(((e,a)=>{if(!a)return;const t=V.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});z.logInteraction(t)}),[z,V]),pe=(0,i.useCallback)(((e,a)=>{if(!a)return;const t=V.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});z.logInteraction(t)}),[z,V]);if(!U||O||X||te||le)return(0,p.jsx)(d.A,{hasError:!1,errorMessage:n.Ru.get("error.not_found.title.page")});const he=b()("contentSpacing",ft),fe=Z&&!!ie?.length,ve=Z&&!!ee?.length;return(0,p.jsxs)("div",{className:ht,children:[(0,p.jsx)(T.Q,{children:G}),(0,p.jsxs)(za.z,{backgroundColor:$,children:[(0,p.jsx)(A.h,{children:(0,p.jsx)(C.X,{text:G})}),(0,p.jsx)(N.h,{menu:(0,p.jsx)(w.B,{uri:U.uri}),children:(0,p.jsx)(Qa.X,{children:(0,p.jsx)(P.M,{canEdit:a&&!U.edit_image_disabled,name:G,images:ce,onClick:de,placeholderType:"user",shape:F.u.CIRCLE})})}),(0,p.jsxs)(Za.Y,{children:[(0,p.jsx)(Ya.B,{children:H?(0,p.jsx)(et.M,{text:n.Ru.get("card.tag.profile")}):n.Ru.get("card.tag.profile")}),(0,p.jsx)(N.h,{menu:(0,p.jsx)(w.B,{uri:U.uri}),children:(0,p.jsx)(Xa.mm,{canEdit:a&&!U.edit_name_disabled,editTitle:n.Ru.get("playlist.edit-details.title"),onClick:ue,children:G})}),(0,p.jsx)(qa.t,{totalFollowers:U.followers_count,totalFollowing:U.following_count,publicPlaylists:U.total_public_playlists_count,userUri:e,onCreatorClick:me,onTotalFollowersClick:ge,onTotalFollowingClick:pe,theyFollowUs:re})]})]}),(0,p.jsx)(la,{openModal:ue,spec:V,logger:z,name:G,backgroundColor:$,isCurrentUser:a,uri:e}),(0,p.jsxs)(Ke.r,{spec:V,children:[a&&(0,p.jsxs)(p.Fragment,{children:[null!==oe&&(0,p.jsx)(at.p,{className:he,total:oe.totalCount,title:n.Ru.get("top_artists_this_month"),tagline:n.Ru.get("only_visible_to_you"),seeAllUri:(0,s.Qj)(J,["top","artists"]).toURI(),id:"top-artists",index:0,children:oe.items.map(((e,a)=>(0,p.jsx)(I.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))}),(0,p.jsx)(Va,{className:he,title:n.Ru.get("top_tracks_this_month"),tagline:n.Ru.get("only_visible_to_you"),seeAllUri:(0,s.Qj)(J,["top","tracks"]).toURI(),uri:e,tracks:se,spec:Q})]}),(0,p.jsx)(at.p,{className:he,total:U.total_public_playlists_count,title:n.Ru.get("public_playlists"),seeAllUri:(0,s.Qj)(J,["playlists"]).toURI(),id:"playlists",index:1,children:D?.map(((e,a)=>(0,p.jsx)(_.B,{index:a,uri:e.uri,name:e.name,images:[{url:(0,Ze.m)({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?n.Ru.get("user.followers",e.followers_count):""},e.uri)))}),B?.length?(0,p.jsx)(at.p,{className:he,total:B?.length,title:n.Ru.get("recently_played_artists"),seeAllUri:(0,s.Qj)(J,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:2,children:B?.map(((e,a)=>(0,p.jsx)(I.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,fe?(0,p.jsx)(at.p,{className:he,title:n.Ru.get("followers"),total:ie?.length,seeAllUri:(0,s.Qj)(J,["followers"]).toURI(),id:"followers",index:3,children:ie?.map(((e,a)=>(0,p.jsx)(u.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,ve?(0,p.jsx)(at.p,{className:he,title:n.Ru.get("following"),total:ee?.length,seeAllUri:(0,s.Qj)(J,["following"]).toURI(),id:"following",index:4,children:ee?.map(((e,a)=>(0,p.jsx)(u.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,a&&x&&("editProfile"===k?(0,p.jsx)(He,{uri:e,name:G,image:W,onClose:ne,shouldOpenImagePicker:S,userCapabilities:{edit_image:!U?.edit_image_disabled,edit_name:!U?.edit_name_disabled}}):null)]})]})},It=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,g.Z)(m.Eo,[{uri:a}]),{public_playlists:o,total_public_playlists_count:s=0}=t||{};return i?(0,p.jsx)(d.A,{hasError:null!==r,errorMessage:n.Ru.get("error.not_found.title.page")}):(0,p.jsx)(c.$,{className:"contentSpacing",total:s,title:n.Ru.get("public_playlists"),showAll:!0,fullPage:!0,rowGap:l.lT,children:o?.map(((e,a)=>(0,p.jsx)(_.B,{index:a,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?n.Ru.get("user.followers",e.followers_count):"",images:[{url:(0,Ze.m)({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)))})},_t=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,g.Z)(m.sL,[{uri:a,limit:50}]),o=t?.artists;return i?(0,p.jsx)(d.A,{hasError:null!==r,errorMessage:n.Ru.get("error.not_found.title.page")}):(0,p.jsx)(c.$,{className:"contentSpacing",total:o?.length,title:n.Ru.get("recently_played_artists"),showAll:!0,fullPage:!0,rowGap:l.lT,children:o?.map(((e,a)=>(0,p.jsx)(I.a,{index:a,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)))})},Nt=()=>{const{topArtists:e,loading:a,error:t}=pt({includeTopArtists:!0,includeTopTracks:!1,topArtistsLimit:100,topTracksLimit:0});return a?(0,p.jsx)(d.A,{hasError:null!==t,errorMessage:n.Ru.get("error.not_found.title.page")}):null===e?null:(0,p.jsx)(c.$,{className:"contentSpacing",total:e.items.length,title:n.Ru.get("top_artists_this_month"),tagline:n.Ru.get("only_visible_to_you"),showAll:!0,fullPage:!0,rowGap:l.lT,children:e.items.map(((e,a)=>(0,p.jsx)(I.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))})},wt=({isCurrentUser:e})=>e?(0,p.jsx)(Nt,{}):(0,p.jsx)(d.A,{hasError:!0,errorMessage:n.Ru.get("error.not_found.title.page")}),Tt=({uri:e})=>{const{topTracks:a,loading:t,error:i}=pt({includeTopArtists:!1,includeTopTracks:!0,topArtistsLimit:0,topTracksLimit:100});return t?(0,p.jsx)(d.A,{hasError:null!==i,errorMessage:n.Ru.get("error.not_found.title.page")}):null===a?null:(0,p.jsxs)("div",{className:b()("contentSpacing",vt),children:[(0,p.jsxs)("div",{className:xt,children:[(0,p.jsx)(S.E,{as:"h1",variant:"titleMedium",className:bt,children:n.Ru.get("top_tracks_this_month")}),(0,p.jsx)(S.E,{as:"p",variant:"bodySmall",children:n.Ru.get("only_visible_to_you")})]}),(0,p.jsx)($a,{tracks:a.items,uri:e,hasHeaderRow:!0})]})},Pt=({uri:e,isCurrentUser:a})=>a?(0,p.jsx)(Tt,{uri:e}):(0,p.jsx)(d.A,{hasError:!0,errorMessage:n.Ru.get("error.not_found.title.page")});var At=t(89962);var Ct=t(67333);const St=(0,i.memo)((function(){const{userId:e=""}=(0,r.g)(),a=decodeURIComponent(e),t=(0,s.Qj)(a).toURI(),i=(e=>{const a=(0,Be.V)(),t=(0,At.C)()?.username;return!a&&t===e})(a);return(0,p.jsx)("section",{children:(0,p.jsxs)(r.BV,{children:[(0,p.jsx)(r.qh,{path:"playlists",element:(0,p.jsx)(Ct.e,{pageId:o.$h.PROFILE_PLAYLISTS,children:(0,p.jsx)(It,{uri:t})})}),(0,p.jsx)(r.qh,{path:"top/tracks",element:(0,p.jsx)(Ct.e,{pageId:o.$h.PROFILE_TOP_TRACKS,children:(0,p.jsx)(Pt,{uri:t,isCurrentUser:i})})}),(0,p.jsx)(r.qh,{path:"top/artists",element:(0,p.jsx)(Ct.e,{pageId:o.$h.PROFILE_TOP_ARTISTS,children:(0,p.jsx)(wt,{isCurrentUser:i})})}),(0,p.jsx)(r.qh,{path:"recently-played-artists",element:(0,p.jsx)(Ct.e,{pageId:o.$h.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,p.jsx)(_t,{uri:t})})}),(0,p.jsx)(r.qh,{path:"following",element:(0,p.jsx)(Ct.e,{pageId:o.$h.PROFILE_FOLLOWING,children:(0,p.jsx)(f,{uri:t})})}),(0,p.jsx)(r.qh,{path:"followers",element:(0,p.jsx)(Ct.e,{pageId:o.$h.PROFILE_FOLLOWERS,children:(0,p.jsx)(h,{uri:t})})}),(0,p.jsx)(r.qh,{path:"/",element:(0,p.jsx)(Ct.e,{pageId:o.$h.PROFILE,children:(0,p.jsx)(Rt,{uri:t,isCurrentUser:i})})})]})})}))},89962:(e,a,t)=>{t.d(a,{C:()=>o});var i=t(9037),r=t(42311);const o=()=>{const e=(0,i.d4)((e=>e.session?.user));return e?{type:r.c.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((({url:e,width:a,height:t})=>({url:e,width:a||void 0,height:t||void 0})))}:null}},78776:(e,a,t)=>{t.d(a,{a:()=>i});const i=e=>e?.linked_from?.uri||e.uri},35663:(e,a,t)=>{t.d(a,{b:()=>o,g:()=>r});var i=t(79474);let r=function(e){return e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error",e}({});function o(e,a){const t=e?r.loading:r.error,[o,s]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const t=()=>{s(r.loaded)},i=()=>{s(r.error)};if(!e)return s(r.error),()=>{};s(r.loading);const o=document.createElement("img");return o.addEventListener("load",t),o.addEventListener("error",i),o.setAttribute("src",e),a&&o.setAttribute("srcSet",a),()=>{o.removeEventListener("load",t),o.removeEventListener("error",i)}}),[e,a]),o}}}]);
//# sourceMappingURL=xpui-routes-profile.js.map