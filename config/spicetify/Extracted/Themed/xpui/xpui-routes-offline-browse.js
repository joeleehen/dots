"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3569],{39031:(e,a,n)=>{n.d(a,{e:()=>r});var i=n(74686);const t="fRZRXRIV2YBCFLYgwDAr";var s=n(13274);const r=({iconSize:e=64,...a})=>(0,s.jsx)("div",{className:t,children:(0,s.jsx)(i.E,{iconSize:e,...a,semanticColor:"textBrightAccent","aria-hidden":!0})})},32256:(e,a,n)=>{n.r(a),n.d(a,{default:()=>H});var i=n(97500),t=n.n(i),s=n(22466),r=n(54441),l=n(50879),u=n(76424),c=n(51684),o=n(10425),d=n(42311),g=n(98961),m=n(13274);function x(e,a){switch(e.type){case d.c.ALBUM:return(0,m.jsx)(r.a,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:a},e.uri);case d.c.ARTIST:return(0,m.jsx)(l.a,{uri:e.uri,name:e.name,images:e.images,index:a},e.uri);case d.c.SHOW:return(0,m.jsx)(o.o,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:g.Q.UNKNOWN,index:a},e.uri);case d.c.AUDIOBOOK:return(0,m.jsx)(u.M,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,index:a},e.uri);case d.c.PLAYLIST:return(0,m.jsx)(c.B,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:a},e.uri);default:return null}}var f=n(46116),h=n(79474),p=n(98678),b=n(24506),j=n(77191),y=n(16832),v=n(54452),w=n(41122),S=n(29345),I=n(34124),R=n(31247),C=n(40088),N=n(61691),E=n(39031),P=n(70147);const k=function({uri:e,name:a,images:n,index:i}){const t=(0,R.o)(),r=(0,h.useRef)(null),l=(0,h.useRef)(!0),u=(0,h.useContext)(S._),{isPlaying:c}=(0,N.l_)(w.b),{togglePlay:o}=(0,C.P)({uri:w.b,pages:[{items:r.current?.map((e=>({...e,provider:null})))||[]}]},{featureIdentifier:"local_files"});(0,h.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const d=(0,I.P)(),g=(0,p.YQ)((async(e,a)=>{if(!r.current){const e=await u.getTracks();r.current=e}l&&o({loggingParams:a},{uri:w.b,pages:[{items:r.current?.map((e=>({...e,provider:null})))||[]}]})}),v.dG,{leading:!0,trailing:!1});return t.canFetchAllTracks&&d?(0,m.jsx)(b.Z,{index:i,delegatePlayback:!0,delegateLogging:!0,isPlaying:c,onPlay:g,headerText:a,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,m.jsx)(j.M,{images:n,FallbackComponent:E.e}),renderSubHeaderContent:()=>(0,m.jsx)(P.c,{children:s.Ru.get("local-files.description")})}):null},A=({index:e})=>{const a=(0,y.Iu)();return(0,m.jsx)(h.Suspense,{fallback:null,children:(0,m.jsx)(k,{index:e,name:a.name,uri:a.uri,images:a.images})})};var B=n(54232),L=n(98891);const _="ctcxxigybw6qGQde916g",T="QGlY4v4eRdOcBHgHljcF",Y="LFYYI0yKpFvSeNhBWRw4",F=()=>(0,m.jsxs)("div",{className:T,children:[(0,m.jsx)(B.i,{size:"xxlarge",className:Y}),(0,m.jsx)(L.E,{as:"h1",variant:"titleLarge",semanticColor:"textBase",dir:"auto",children:s.Ru.get("web-player.offline.empty-state.title")}),(0,m.jsx)(L.E,{as:"h2",variant:"bodyMedium",semanticColor:"textSubdued",dir:"auto",children:s.Ru.get("web-player.offline.empty-state.subtitle")})]});var O=n(30620),Q=n(99818);const H=function(){const{hasError:e,items:a}=function(){const e=(0,Q.Q)(),[a,n]=(0,h.useState)(!0),[i,t]=(0,h.useState)(!1),[s,r]=(0,h.useState)([]);return(0,h.useEffect)((()=>{(async()=>{try{const a=await e.getDownloads();r(a)}catch(e){t(!0)}finally{n(!1)}})()}),[e]),{isLoading:a,hasError:i,items:s}}(),n=(0,I.P)();return e?null:(0,m.jsx)("div",{className:t()(_,"contentSpacing"),children:a.length>0||n?(0,m.jsxs)(O.pZ,{value:"headered-grid",children:[(0,m.jsx)(f.$,{title:s.Ru.get("music_downloads"),total:a.length,seeAllUri:"/collection/music-downloads",alwaysShowSeeAll:!0,children:a.map(((e,a)=>(0,m.jsx)(O.pZ,{value:"card",index:a,children:x(e,a)},e.uri)))}),n&&(0,m.jsx)(f.$,{title:s.Ru.get("local-files"),total:1,showAll:!0,children:(0,m.jsx)(A,{index:0})})]}):(0,m.jsx)(F,{})})}},34124:(e,a,n)=>{n.d(a,{P:()=>t});var i=n(60191);function t(){return(0,i.y)()[0]}},60191:(e,a,n)=>{n.d(a,{y:()=>s});var i=n(79474),t=n(29345);function s(){const e=(0,i.useContext)(t._),[a,n]=(0,i.useState)(e.getIsEnabled());(0,i.useEffect)((()=>{const a=e.subscribeIsEnabled(n);return()=>a()}),[e]);return[a,(0,i.useCallback)((a=>e.setIsEnabled(a)),[e])]}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map